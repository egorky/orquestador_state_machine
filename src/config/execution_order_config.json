{
    "execution_sequences": [
        {
            "parameter": "id_number",
            "steps": [
                {
                    "tool": "validate",
                    "validation": "id_number"
                }
            ]
        },
        {
            "parameter": "city",
            "steps": [
                {
                    "tool": "api_call",
                    "api": "fetch_cities_api",
                    "output_key": "cities"
                },
                {
                    "tool": "validate",
                    "validation": "city"
                }
            ]
        },
        {
            "parameter": "branch",
            "steps": [
                {
                    "tool": "api_call",
                    "api": "fetch_branches_api",
                    "input_keys": ["city_id"],
                    "output_key": "branches"
                },
                {
                    "tool": "validate",
                    "validation": "branch"
                }
            ]
        },
        {
            "parameter": "speciality",
            "steps": [
                {
                    "tool": "api_call",
                    "api": "fetch_specialities_api",
                    "input_keys": ["branch_id"],
                    "output_key": "specialities"
                },
                {
                    "tool": "validate",
                    "validation": "speciality"
                }
            ]
        },
        {
            "parameter": "date_time",
            "steps": [
                {
                    "tool": "api_call",
                    "api": "fetch_available_times_api",
                    "input_keys": ["speciality_id"],
                    "output_key": "available_times"
                },
                {
                    "tool": "validate",
                    "validation": "date_time"
                }
            ]
        },
        {
            "parameter": "final_action",
            "steps": [
                {
                    "tool": "api_call",
                    "api": "create_appointment_api",
                    "input_keys": ["id_number", "city_id", "branch_id", "speciality_id", "date_time"]
                }
            ]
        }
    ]
}